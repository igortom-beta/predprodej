<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lojzovy Paseky - V√°≈° druh√Ω domov</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; font-size: 18px; } /* Zvƒõt≈°en√© z√°kladn√≠ p√≠smo */
        h1, h2, h3 { font-family: 'Playfair Display', serif; }
        .glass { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .nav-link { position: relative; transition: color 0.3s; }
        .nav-link::after { content: ''; position: absolute; width: 0; height: 2px; bottom: -4px; left: 0; background-color: #22c55e; transition: width 0.3s; }
        .nav-link:hover::after { width: 100%; }
        /* Vylep≈°en√Ω scrollbar pro chat */
        .chat-scroll::-webkit-scrollbar { width: 6px; }
        .chat-scroll::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); }
        .chat-scroll::-webkit-scrollbar-thumb { background: #22c55e; border-radius: 10px; }
    </style>
</head>
<body class="bg-stone-950 text-stone-200 leading-relaxed">

    <!-- Navigaƒçn√≠ Menu (Nov√©) -->
    <nav class="fixed top-0 w-full z-50 glass py-6 px-10 flex justify-between items-center">
        <div class="text-2xl font-black tracking-tighter text-white">LOJZOVY PASEKY</div>
        <div class="hidden md:flex gap-10 text-sm uppercase tracking-widest font-semibold">
            <a href="#" class="nav-link text-white">O projektu</a>
            <a href="#" class="nav-link text-stone-400 hover:text-white">Apartm√°ny</a>
            <a href="#" class="nav-link text-stone-400 hover:text-white">Lokalita</a>
            <a href="#" class="nav-link text-stone-400 hover:text-white">Kontakt</a>
        </div>
        <button class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-full text-sm font-bold transition-all">Rezervovat</button>
    </nav>

    <!-- Hero Section (Re√°ln√° fotka) -->
    <header class="relative h-screen flex items-center justify-center overflow-hidden">
        <div class="absolute inset-0 z-0">
            <img src="./images/hero-bungalow-exterior.jpg" alt="Lojzovy Paseky" class="w-full h-full object-cover opacity-50 scale-105 animate-pulse" style="animation-duration: 15s">
            <div class="absolute inset-0 bg-gradient-to-b from-stone-950/40 via-transparent to-stone-950"></div>
        </div>
        
        <div class="relative z-10 text-center px-4 max-w-5xl">
            <span class="text-green-500 font-bold tracking-[0.4em] uppercase text-base mb-6 block">V√°≈° druh√Ω domov v srdci ≈†umavy</span>
            <h1 class="text-7xl md:text-9xl font-black mb-8 text-white leading-tight">Lojzovy Paseky</h1>
            <p class="text-2xl md:text-3xl font-light text-stone-300 max-w-3xl mx-auto leading-relaxed">
                Kde se modern√≠ architektura potk√°v√° s tichem les≈Ø. Investice do klidu, kter√Ω trv√°.
            </p>
        </div>
    </header>

    <!-- Hlavn√≠ obsah (Zvƒõt≈°en√© p√≠smo + Re√°ln√© fotky) -->
    <main class="max-w-7xl mx-auto px-8 py-32 space-y-48">
        
        <!-- Sekce: Architektura a Modernost -->
        <section class="grid md:grid-cols-2 gap-24 items-center">
            <div class="space-y-8">
                <h2 class="text-5xl md:text-6xl font-bold text-white leading-tight">Modern√≠ komfort bez kompromis≈Ø</h2>
                <p class="text-xl md:text-2xl text-stone-400 leading-relaxed">
                    Na≈°e bungalovy nejsou jen m√≠stem k p≈ôesp√°n√≠. Jsou v√Ωsledkem precizn√≠ho designu, kter√Ω klade d≈Øraz na **vzdu≈°nost, svƒõtlo a technologickou vyspƒõlost**. Ka≈æd√Ω detail byl navr≈æen tak, aby v√°m poskytl maxim√°ln√≠ pohodl√≠ modern√≠ doby.
                </p>
                <div class="grid grid-cols-1 gap-6 text-lg">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 rounded-full bg-green-900/30 flex items-center justify-center text-green-500 font-bold">‚úì</div>
                        <span>**Chytr√© technologie:** Intuitivn√≠ ovl√°d√°n√≠ vyt√°pƒõn√≠ a osvƒõtlen√≠.</span>
                    </div>
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 rounded-full bg-green-900/30 flex items-center justify-center text-green-500 font-bold">‚úì</div>
                        <span>**Pr√©miov√© materi√°ly:** P≈ô√≠rodn√≠ d≈ôevo, k√°men a sklo.</span>
                    </div>
                </div>
            </div>
            <div class="rounded-[2rem] overflow-hidden shadow-2xl shadow-green-900/10 border border-stone-800">
                <img src="./images/bungalow-deluxe-interior.jpg" alt="Interi√©r bungalovu" class="w-full h-[600px] object-cover hover:scale-105 transition-transform duration-1000">
            </div>
        </section>

        <!-- Sekce: Spojen√≠ s p≈ô√≠rodou -->
        <section class="grid md:grid-cols-2 gap-24 items-center md:flex-row-reverse">
            <div class="md:order-2 space-y-8">
                <h2 class="text-5xl md:text-6xl font-bold text-white leading-tight">Dialog s krajinou</h2>
                <p class="text-xl md:text-2xl text-stone-400 leading-relaxed">
                    V Lojzov√Ωch Pasek√°ch nekonƒç√≠ v√°≈° ob√Ωvac√≠ pokoj zd√≠. D√≠ky **panoramatick√Ωm okn≈Øm** se okoln√≠ p≈ô√≠roda st√°v√° souƒç√°st√≠ interi√©ru. Rann√≠ k√°va s v√Ωhledem na mlhu nad Lipnem ‚Äì to je luxus, kter√Ω se ned√° koupit, ale d√° se pro≈æ√≠t.
                </p>
                <p class="text-lg text-stone-500 italic">
                    Vyu≈æili jsme p≈ôirozen√Ω sklon ter√©nu a orientaci ke svƒõtov√Ωm stran√°m pro va≈°e maxim√°ln√≠ soukrom√≠.
                </p>
            </div>
            <div class="md:order-1 rounded-[2rem] overflow-hidden shadow-2xl shadow-green-900/10 border border-stone-800">
                <img src="./images/sustainable-living.jpg" alt="P≈ô√≠roda kolem bungalov≈Ø" class="w-full h-[600px] object-cover hover:scale-105 transition-transform duration-1000">
            </div>
        </section>

    </main>

    <!-- AI Rezervaƒçn√≠ syst√©m (Vylep≈°en√Ω RELEASE) -->
    <div id="ai-chat-root"></div>

    <footer class="py-20 border-t border-stone-900 text-center text-stone-600">
        <div class="text-xl font-bold text-white mb-4">LOJZOVY PASEKY</div>
        <p class="max-w-md mx-auto mb-8">V√°≈° druh√Ω domov v srdci ≈†umavy. Investice do klidu a p≈ô√≠rody.</p>
        <p class="text-sm uppercase tracking-widest">¬© 2026 Lojzovy Paseky. V≈°echna pr√°va vyhrazena.</p>
    </footer>

    <!-- React & AI Logic -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const AIReservation = () => {
            const [messages, setMessages] = React.useState([{ id: 1, text: 'Dobr√Ω den! üëã Jsem asistent pro Lojzovy Paseky. Jak v√°m mohu pomoci s va≈°√≠ rezervac√≠?', sender: 'ai' }]);
            const [input, setInput] = React.useState('');
            const [reservation, setReservation] = React.useState({ nights: null, guests: null, date: null });
            const [isOpen, setIsOpen] = React.useState(true);
            const [isTyping, setIsTyping] = React.useState(false);
            const chatEndRef = React.useRef(null);

            // Automatick√© scrollov√°n√≠ dol≈Ø (Nov√©)
            const scrollToBottom = () => {
                chatEndRef.current?.scrollIntoView({ behavior: "smooth" });
            };

            React.useEffect(() => {
                scrollToBottom();
            }, [messages, isTyping]);

            const sanitize = (str) => {
                const div = document.createElement('div');
                div.textContent = str;
                return div.innerHTML;
            };

            const handleSend = (e) => {
                e.preventDefault();
                if (!input.trim()) return;
                
                const cleanInput = sanitize(input.trim());
                setMessages(prev => [...prev, { id: Date.now(), text: cleanInput, sender: 'user' }]);
                setInput('');
                setIsTyping(true);
                
                setTimeout(() => {
                    setIsTyping(false);
                    let reply = "";
                    
                    const nightsMatch = cleanInput.match(/(\d+)\s*(noc|noci|noc√≠|dn√≠|dny|den)/i);
                    const guestsMatch = cleanInput.match(/(\d+)\s*(osob|lidi|ƒçlovƒõk|osoby|host|host≈Ø)/i);
                    const dateMatch = cleanInput.match(/(\d+\.\d+\.)|leden|√∫nor|b≈ôezen|duben|kvƒõten|ƒçerven|ƒçervenec|srpen|z√°≈ô√≠|≈ô√≠jen|listopad|prosinec|l√©to|pr√°zdniny|prazdniny|sez√≥n|jaro|podzim|zima|p≈ôelom/i);
                    
                    let detectedGuests = guestsMatch ? parseInt(guestsMatch[1]) : null;
                    if (!detectedGuests) {
                        if (cleanInput.match(/ve dvou|pro dva|p√°r/i)) detectedGuests = 2;
                        if (cleanInput.match(/s√°m|pro jednoho/i)) detectedGuests = 1;
                    }

                    let detectedNights = nightsMatch ? parseInt(nightsMatch[1]) : null;
                    if (!detectedNights && cleanInput.match(/t√Ωden|na t√Ωden/i)) detectedNights = 7;
                    if (!detectedNights && cleanInput.match(/v√≠kend/i)) detectedNights = 2;
                    if (!detectedNights && cleanInput.match(/l√©to|sez√≥nu|sezona/i)) detectedNights = 90;

                    const currentYear = new Date().getFullYear();
                    const pastYearMatch = cleanInput.match(/202[0-4]|201\d|19\d\d/);
                    
                    const newReservation = {
                        nights: detectedNights || reservation.nights,
                        guests: detectedGuests || reservation.guests,
                        date: dateMatch ? (reservation.date ? reservation.date + " " + cleanInput : cleanInput) : reservation.date
                    };

                    if (pastYearMatch) {
                        reply = `Bohu≈æel stroj ƒçasu v Lojzov√Ωch Pasek√°ch zat√≠m nem√°me. üòÖ Rok ${pastYearMatch[0]} u≈æ je za n√°mi. Kdy byste chtƒõli p≈ôijet v roce ${currentYear} nebo pozdƒõji?`;
                    } else {
                        setReservation(newReservation);
                        if (newReservation.nights && newReservation.guests) {
                            reply = `Perfektn√≠! M√°m v≈°e: pobyt na **${newReservation.nights} noc√≠** pro **${newReservation.guests} osob**. M√°m provƒõ≈ôit voln√© apartm√°ny pro tento poƒçet?`;
                        } else if (newReservation.date && !newReservation.guests) {
                            reply = `To zn√≠ jako skvƒõl√Ω term√≠n! üå≤ Pro kolik osob by to mƒõlo b√Ωt?`;
                        } else if (newReservation.nights && !newReservation.guests) {
                            reply = `Rozum√≠m, pobyt na ${newReservation.nights} noc√≠. Pro kolik osob by to mƒõlo b√Ωt?`;
                        } else if (!newReservation.nights && newReservation.guests) {
                            reply = `Dob≈ôe, poƒç√≠t√°m s ${newReservation.guests} osobami. Na jak dlouho (kolik noc√≠) nebo na jak√Ω term√≠n pl√°nujete p≈ôijet?`;
                        } else if (cleanInput.toLowerCase().includes('cena') || cleanInput.toLowerCase().includes('kolik stoj√≠')) {
                            reply = "Ceny zaƒç√≠naj√≠ od 2 500 Kƒç za noc (Apartm√°n 3+kk) nebo 3 800 Kƒç (Apartm√°n 4+kk). Pro p≈ôesnou kalkulaci mi pros√≠m napi≈°te poƒçet osob a noc√≠.";
                        } else {
                            reply = "R√°d v√°m pomohu s rezervac√≠. Staƒç√≠ mi napsat, pro kolik osob a na jak dlouho hled√°te ubytov√°n√≠.";
                        }
                    }

                    setMessages(prev => [...prev, { id: Date.now() + 1, text: reply, sender: 'ai' }]);
                }, 1000);
            };

            if (!isOpen) return (
                <button onClick={() => setIsOpen(true)} style={{position:'fixed', bottom:'30px', right:'30px', background:'#16a34a', color:'white', padding:'20px 35px', borderRadius:'50px', fontWeight:'bold', fontSize:'18px', boxShadow:'0 15px 35px rgba(0,0,0,0.4)', zIndex:1000}}>
                    Rezervovat pobyt üí¨
                </button>
            );

            return (
                <div style={{position:'fixed', bottom:'30px', right:'30px', width:'400px', height:'600px', background:'#1c1917', border:'1px solid #444', borderRadius:'32px', display:'flex', flexDirection:'column', boxShadow:'0 30px 70px rgba(0,0,0,0.6)', zIndex:1000, overflow:'hidden'}}>
                    <div style={{background:'#16a34a', color:'white', padding:'20px 25px', display:'flex', justifyContent:'space-between', alignItems:'center'}}>
                        <div style={{display:'flex', flexDirection:'column'}}>
                            <span style={{fontWeight:'bold', fontSize:'18px'}}>Lojzovy Paseky AI</span>
                            <span style={{fontSize:'12px', opacity:0.8}}>Online | P≈ôipraven pomoci</span>
                        </div>
                        <button onClick={() => setIsOpen(false)} style={{fontSize:'24px', opacity:0.7}}>‚úï</button>
                    </div>
                    <div className="chat-scroll" style={{flex:1, overflowY:'auto', padding:'25px', display:'flex', flexDirection:'column', gap:'20px'}}>
                        {messages.map(m => (
                            <div key={m.id} style={{
                                alignSelf: m.sender==='user'?'flex-end':'flex-start', 
                                background:m.sender==='user'?'#16a34a':'#292524', 
                                color:'white', 
                                padding:'16px 20px', 
                                borderRadius:'22px', 
                                borderBottomRightRadius: m.sender==='user'?'4px':'22px',
                                borderBottomLeftRadius: m.sender==='user'?'22px':'4px',
                                fontSize:'16px', /* Zvƒõt≈°en√© p√≠smo v chatu */
                                maxWidth:'85%',
                                boxShadow:'0 4px 10px rgba(0,0,0,0.2)',
                                lineHeight:'1.5'
                            }} dangerouslySetInnerHTML={{__html: m.text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')}}></div>
                        ))}
                        {isTyping && (
                            <div style={{alignSelf:'flex-start', background:'#292524', padding:'12px 20px', borderRadius:'22px', color:'#888', fontSize:'14px'}}>
                                Asistent p√≠≈°e...
                            </div>
                        )}
                        <div ref={chatEndRef} />
                    </div>
                    <form onSubmit={handleSend} style={{padding:'20px', background:'#292524', borderTop:'1px solid #444'}}>
                        <input 
                            style={{width:'100%', background:'#1c1917', border:'1px solid #444', borderRadius:'16px', padding:'15px 20px', color:'white', outline:'none', fontSize:'16px'}} 
                            value={input} 
                            onChange={e => setInput(e.target.value)} 
                            placeholder="Napi≈°te n√°m term√≠n nebo poƒçet osob..." 
                        />
                    </form>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('ai-chat-root'));
        root.render(<AIReservation />);
    </script>
</body>
</html>
